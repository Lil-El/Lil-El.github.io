<template>
  <header class="header-container">
    <div>
      <router-link to="/" class="link btn">
        <img src="/ico.svg" width="32" alt="" />
      </router-link>
    </div>
    <div>
      <div>
        <div class="btn" v-show="theme.mode === 'system'" title="跟随系统" @click="toggleMode">
          <svg width="20" height="20" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
            <path
              :fill="theme.isDark ? '#ffffff' : '#000000'"
              d="M859.392 743.296H162.624A162.816 162.816 0 0 1 0 580.672V162.624C0 73.024 72.96 0 162.624 0h696.768c89.6 0 162.624 73.024 162.624 162.624v418.112c0 89.6-73.024 162.56-162.624 162.56zM162.624 46.528A116.224 116.224 0 0 0 46.464 162.624v418.112c0 64.064 52.096 116.096 116.16 116.096h696.768a116.16 116.16 0 0 0 116.096-116.096V162.624A116.16 116.16 0 0 0 859.392 46.528H162.624zM789.76 836.16H232.256a23.232 23.232 0 0 1 0-46.464h557.504a23.296 23.296 0 0 1 0 46.464z"
            />
            <path
              :fill="theme.isDark ? '#ffffff' : '#000000'"
              d="M510.976 836.16a23.232 23.232 0 0 1-23.232-23.168v-92.864a23.296 23.296 0 1 1 46.464 0v92.864a23.168 23.168 0 0 1-23.232 23.168z"
            />
          </svg>
        </div>
        <div class="btn" v-show="theme.mode === 'light'" title="亮色模式" @click="toggleMode">
          <svg
            class="icon"
            width="20"
            height="20"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill="#000000"
              d="M512 200A312 312 0 1 0 824 512 312 312 0 0 0 512 200z m0 549.333333A237.333333 237.333333 0 1 1 749.333333 512 237.6 237.6 0 0 1 512 749.333333zM474.666667 44.32m5.333333 0l64 0q5.333333 0 5.333333 5.333333l0 102.24q0 5.333333-5.333333 5.333334l-64 0q-5.333333 0-5.333333-5.333334l0-102.24q0-5.333333 5.333333-5.333333ZM154.935877 207.647092m3.771237-3.771236l45.254833-45.254834q3.771236-3.771236 7.542473 0l72.294597 72.294597q3.771236 3.771236 0 7.542473l-45.254834 45.254834q-3.771236 3.771236-7.542472 0l-72.294597-72.294598q-3.771236-3.771236 0-7.542472ZM44.426667 474.613333m5.333333 0l102.24 0q5.333333 0 5.333333 5.333334l0 64q0 5.333333-5.333333 5.333333l-102.24 0q-5.333333 0-5.333333-5.333333l0-64q0-5.333333 5.333333-5.333334ZM155.058812 816.193176m3.771236-3.771236l72.294597-72.294598q3.771236-3.771236 7.542473 0l45.254834 45.254834q3.771236 3.771236 0 7.542473l-72.294597 72.294597q-3.771236 3.771236-7.542473 0l-45.254834-45.254834q-3.771236-3.771236 0-7.542472ZM474.773333 866.613333m5.333334 0l64 0q5.333333 0 5.333333 5.333334l0 102.24q0 5.333333-5.333333 5.333333l-64 0q-5.333333 0-5.333334-5.333333l0-102.24q0-5.333333 5.333334-5.333334ZM736.508185 789.084994m3.771236-3.771236l45.254834-45.254834q3.771236-3.771236 7.542472 0l72.294597 72.294597q3.771236 3.771236 0 7.542473l-45.254834 45.254834q-3.771236 3.771236-7.542472 0l-72.294597-72.294598q-3.771236-3.771236 0-7.542472ZM866.773333 474.506667m5.333334 0l102.24 0q5.333333 0 5.333333 5.333333l0 64q0 5.333333-5.333333 5.333333l-102.24 0q-5.333333 0-5.333334-5.333333l0-64q0-5.333333 5.333334-5.333333ZM736.439877 234.62232m3.771237-3.771237l72.294597-72.294597q3.771236-3.771236 7.542472 0l45.254834 45.254834q3.771236 3.771236 0 7.542472l-72.294597 72.294598q-3.771236 3.771236-7.542473 0l-45.254833-45.254834q-3.771236-3.771236 0-7.542473Z"
            />
          </svg>
        </div>
        <div class="btn" v-show="theme.mode === 'dark'" title="暗色模式" @click="toggleMode">
          <svg
            class="icon"
            width="20"
            height="20"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill="#ffffff"
              d="M676.64 72.373333a21.333333 21.333333 0 0 0-28.426667 24.96c7.733333 32 17.333333 77.973333 17.333334 108.64a407.36 407.36 0 0 1-585.173334 366.4 21.333333 21.333333 0 0 0-30.293333 23.04 469.333333 469.333333 0 0 0 485.333333 385.333334c243.84-11.84 439.413333-212.16 445.76-456.213334a469.333333 469.333333 0 0 0-304.533333-452.16zM512 906.666667a395.306667 395.306667 0 0 1-357.333333-226.4 2.186667 2.186667 0 0 1 2.453333-3.04 480 480 0 0 0 100.96 10.666666 482.506667 482.506667 0 0 0 481.92-481.92v-11.68a2.186667 2.186667 0 0 1 3.466667-1.813333 395.52 395.52 0 0 1 81.44 78.986667A390.826667 390.826667 0 0 1 906.666667 512a395.146667 395.146667 0 0 1-394.666667 394.666667zM202.293333 262.72a8.96 8.96 0 0 0 2.88 0.426667 75.946667 75.946667 0 0 1 75.733334 75.733333 7.626667 7.626667 0 0 0 0.48 2.88 11.52 11.52 0 0 0 22.186666 0 8.746667 8.746667 0 0 0 0.426667-2.88 76 76 0 0 1 75.733333-75.733333 8.746667 8.746667 0 0 0 2.88-0.426667 11.573333 11.573333 0 0 0 0-22.24 8.746667 8.746667 0 0 0-2.88-0.426667A75.946667 75.946667 0 0 1 304 164.32a8.746667 8.746667 0 0 0-0.426667-2.88 11.52 11.52 0 0 0-22.186666 0 7.626667 7.626667 0 0 0-0.48 2.88A75.893333 75.893333 0 0 1 205.386667 240a8.96 8.96 0 0 0-2.88 0.426667 11.573333 11.573333 0 0 0 0 22.24z"
            />
          </svg>
        </div>
      </div>
    </div>
  </header>
</template>

<script setup>
import { inject } from "vue";

const theme = inject("theme");
const toggleMode = inject("toggleMode");
</script>

<style scoped>
.header-container {
  width: 100%;
  height: 56px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding-left: 1rem;
  padding-right: 1rem;
  backdrop-filter: blur(4px);
  border-bottom: 1px solid rgba(0, 0, 0, 0.05);

  [data-theme="dark"] & {
    border-bottom-color: rgba(255, 255, 255, 0.1);
  }
}

.link {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.btn {
  cursor: pointer;
}
</style>
