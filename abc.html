<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Monaco Editor Example</title>
    <!-- 加载 Monaco Editor 的 CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs/editor/editor.main.css" />
  </head>
  <body>
    <div id="editor1" style="width: 800px; height: 600px; border: 1px solid #ccc"></div>
    <div id="editor2" style="width: 800px; height: 600px; border: 1px solid #ccc"></div>

    <!-- 加载 Monaco Editor 的 JS -->
    <script src="https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs/loader.min.js"></script>
    <script>
      // 配置 Monaco Editor 的模块加载路径
      require.config({ paths: { vs: "https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs" } });

      // 加载 Monaco Editor 的核心模块
      require(["vs/editor/editor.main"], function () {
        // 初始化编辑器
        const editor1 = monaco.editor.create(document.getElementById("editor1"), {
          value: `// Hello, Monaco Editor!\nfunction hello() {\n  console.log("Hello, world!");\n}`,
          language: "javascript",
          theme: "vs-dark",
        });
        // 初始化编辑器
        const editor2 = monaco.editor.create(document.getElementById("editor2"), {
          value: `// Hello, Monaco Editor!\nfunction hello() {\n  console.log("Hello, world!");\n}`,
          language: "javascript",
          theme: "vs-dark",
        });

        // 使用 addAction 替代 addCommand
        editor1.addAction({
          id: "save-editor1",
          label: "Save Editor 1",
          keybindings: [monaco.KeyMod.CtrlCmd | monaco.KeyCode.KeyS],
          run: () => {
            console.log("Editor 1: Ctrl+S pressed!");
          },
        });

        editor2.addAction({
          id: "save-editor2",
          label: "Save Editor 2",
          keybindings: [monaco.KeyMod.CtrlCmd | monaco.KeyCode.KeyS],
          run: () => {
            console.log("Editor 2: Ctrl+S pressed!");
          },
        }); // 查看 editor1 的命令
      });
    </script>
  </body>
</html>
